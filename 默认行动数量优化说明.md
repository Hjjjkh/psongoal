# é»˜è®¤è¡ŒåŠ¨æ•°é‡ä¼˜åŒ–è¯´æ˜

## ğŸ¯ é—®é¢˜

é»˜è®¤ç”Ÿæˆçš„è¡ŒåŠ¨æ•°é‡ä¸º 7ï¼Œå¯¹äº"æ¯æ—¥å”¯ä¸€æ‰¿è¯º"çš„ç†å¿µæ¥è¯´å¯èƒ½æœ‰ç‚¹å¤šï¼Œç”¨æˆ·å¯èƒ½è§‰å¾—ä»»åŠ¡è´Ÿæ‹…è¿‡é‡ã€‚

## âœ… è§£å†³æ–¹æ¡ˆ

å°†é»˜è®¤è¡ŒåŠ¨æ•°é‡ä» **7** è°ƒæ•´ä¸º **3**ï¼Œæ›´ç¬¦åˆ"æ¯æ—¥å”¯ä¸€æ‰¿è¯º"çš„ç†å¿µï¼Œè®©ç”¨æˆ·ä¸ä¼šè§‰å¾—ä»»åŠ¡å¤ªå¤šã€‚

## ğŸ“‹ ä¿®æ”¹è¯¦æƒ…

### ä¿®æ”¹æ–‡ä»¶

1. `packages/web/components/goals-view.tsx` - æ¨¡æ¿é˜¶æ®µè¡ŒåŠ¨é»˜è®¤æ•°é‡
2. `packages/web/components/template-editor.tsx` - æ·»åŠ æ–°è¡ŒåŠ¨æ—¶çš„é»˜è®¤æ•°é‡
3. `packages/web/app/api/goals/create-from-template/route.ts` - API åˆ›å»ºç›®æ ‡æ—¶çš„é»˜è®¤æ•°é‡

### ä¿®æ”¹å†…å®¹

1. **æ¨¡æ¿é˜¶æ®µè¡ŒåŠ¨é»˜è®¤æ•°é‡**ï¼ˆ`goals-view.tsx`ï¼Œ4å¤„ï¼‰ï¼š
   ```typescript
   // ä¿®æ”¹å‰
   count: action.count?.toString() || '7',
   
   // ä¿®æ”¹å
   count: action.count?.toString() || '3',
   ```

2. **è¡ŒåŠ¨æ•°é‡è§£æé»˜è®¤å€¼**ï¼ˆ`goals-view.tsx`ï¼Œ1å¤„ï¼‰ï¼š
   ```typescript
   // ä¿®æ”¹å‰
   const actionCount = (!isNaN(parsedCount) && parsedCount >= 1 && parsedCount <= 100) ? parsedCount : 7
   
   // ä¿®æ”¹å
   const actionCount = (!isNaN(parsedCount) && parsedCount >= 1 && parsedCount <= 100) ? parsedCount : 3
   ```

3. **æ·»åŠ æ–°è¡ŒåŠ¨æ—¶çš„é»˜è®¤æ•°é‡**ï¼ˆ`template-editor.tsx`ï¼Œ1å¤„ï¼‰ï¼š
   ```typescript
   // ä¿®æ”¹å‰
   newPhases[phaseIndex].actions.push({ title_template: '', definition: '', estimated_time: '', count: '7' })
   
   // ä¿®æ”¹å
   newPhases[phaseIndex].actions.push({ title_template: '', definition: '', estimated_time: '', count: '3' })
   ```

4. **API åˆ›å»ºç›®æ ‡æ—¶çš„é»˜è®¤æ•°é‡**ï¼ˆ`create-from-template/route.ts`ï¼Œ2å¤„ï¼‰ï¼š
   ```typescript
   // ä¿®æ”¹å‰
   count: 7, // é»˜è®¤æ•°é‡
   const count = exampleAction.count || 7
   
   // ä¿®æ”¹å
   count: 3, // é»˜è®¤æ•°é‡
   const count = exampleAction.count || 3
   ```

5. **API æ³¨é‡Šæ›´æ–°**ï¼ˆ`create-from-template/route.ts`ï¼Œ1å¤„ï¼‰ï¼š
   ```typescript
   // ä¿®æ”¹å‰
   * 3. ä¸ºæ¯ä¸ªç¤ºä¾‹è¡ŒåŠ¨åˆ›å»ºæ‰¹é‡è¡ŒåŠ¨ï¼ˆé»˜è®¤ 7 ä¸ªï¼Œå¯é…ç½®ï¼‰
   
   // ä¿®æ”¹å
   * 3. ä¸ºæ¯ä¸ªç¤ºä¾‹è¡ŒåŠ¨åˆ›å»ºæ‰¹é‡è¡ŒåŠ¨ï¼ˆé»˜è®¤ 3 ä¸ªï¼Œå¯é…ç½®ï¼‰
   ```

## ğŸ¯ æ•ˆæœ

- âœ… ä½¿ç”¨æ¨¡æ¿åˆ›å»ºç›®æ ‡æ—¶ï¼Œé»˜è®¤ç”Ÿæˆ 3 ä¸ªè¡ŒåŠ¨ï¼ˆè€Œä¸æ˜¯ 7 ä¸ªï¼‰
- âœ… åœ¨æ¨¡æ¿ç¼–è¾‘å™¨ä¸­æ·»åŠ æ–°è¡ŒåŠ¨æ—¶ï¼Œé»˜è®¤æ•°é‡ä¸º 3
- âœ… API åˆ›å»ºç›®æ ‡æ—¶ï¼Œé»˜è®¤ç”Ÿæˆ 3 ä¸ªè¡ŒåŠ¨
- âœ… æ›´ç¬¦åˆ"æ¯æ—¥å”¯ä¸€æ‰¿è¯º"çš„ç†å¿µ
- âœ… å‡å°‘ç”¨æˆ·çš„å¿ƒç†è´Ÿæ‹…
- âœ… ç”¨æˆ·ä»ç„¶å¯ä»¥æ‰‹åŠ¨è°ƒæ•´è¡ŒåŠ¨æ•°é‡ï¼ˆ1-100ï¼‰

## ğŸ“ è¯´æ˜

- **3 ä¸ªè¡ŒåŠ¨**æ˜¯ä¸€ä¸ªæ›´åˆç†çš„é»˜è®¤å€¼ï¼Œæ—¢ä¸ä¼šè®©ç”¨æˆ·è§‰å¾—ä»»åŠ¡å¤ªå°‘ï¼Œä¹Ÿä¸ä¼šè§‰å¾—è´Ÿæ‹…è¿‡é‡
- ç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ‰‹åŠ¨è°ƒæ•´è¡ŒåŠ¨æ•°é‡
- å¦‚æœç”¨æˆ·éœ€è¦æ›´å¤šè¡ŒåŠ¨ï¼Œå¯ä»¥åœ¨åˆ›å»ºæ—¶ä¿®æ”¹ `count` å­—æ®µ
- æ‰€æœ‰ä¿®æ”¹éƒ½ä¿æŒäº†å‘åå…¼å®¹æ€§ï¼Œå·²æœ‰çš„æ¨¡æ¿å’Œé…ç½®ä¸ä¼šå—åˆ°å½±å“

---

**æœ€åæ›´æ–°**: 2024-12-20
